
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Kotlin 代码优化分析报告</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background-color: white; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1 { color: #333; border-bottom: 3px solid #7c4dff; padding-bottom: 10px; }
        h2 { color: #555; margin-top: 30px; }
        .summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .summary-card { background: #f8f8f8; padding: 20px; border-radius: 8px; border-left: 4px solid #7c4dff; }
        .summary-card h3 { margin-top: 0; color: #7c4dff; }
        .summary-card .number { font-size: 36px; font-weight: bold; color: #333; }
        .opportunity { background: #fff; border: 1px solid #e0e0e0; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .high { border-left: 4px solid #f44336; }
        .medium { border-left: 4px solid #ff9800; }
        .low { border-left: 4px solid #4caf50; }
        .code { background: #f5f5f5; padding: 10px; border-radius: 3px; font-family: monospace; overflow-x: auto; }
        .file-path { color: #666; font-size: 14px; }
        .metrics { display: flex; gap: 20px; margin-top: 10px; }
        .metric { background: #e3f2fd; padding: 5px 10px; border-radius: 3px; font-size: 14px; }
        .chart { margin: 20px 0; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { text-align: left; padding: 12px; border-bottom: 1px solid #e0e0e0; }
        th { background-color: #7c4dff; color: white; }
        tr:hover { background-color: #f5f5f5; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Kotlin 代码优化分析报告</h1>
        
        <div class="summary">
            <div class="summary-card">
                <h3>扫描文件</h3>
                <div class="number">3559</div>
                <div>总代码行数: 455,214</div>
            </div>
            <div class="summary-card">
                <h3>优化机会</h3>
                <div class="number">2522</div>
                <div>可优化点</div>
            </div>
            <div class="summary-card">
                <h3>典型性能提升</h3>
                <div class="number">15-25%</div>
                <div>整体优化效果</div>
            </div>
            <div class="summary-card">
                <h3>包体积优化</h3>
                <div class="number">200-300 KB</div>
                <div>典型减少量</div>
            </div>
        </div>
        
        <h2>优化类型分布</h2>
        <table>
            <tr>
                <th>优化类型</th>
                <th>发现数量</th>
                <th>性能提升</th>
                <th>字节码优化</th>
                <th>优先级</th>
            </tr>

                    
            <tr>
                <td>字符串拼接 (+ vs StringBuilder)</td>
                <td>5</td>
                <td>20-80%</td>
                <td>视循环和长度而定</td>
                <td><span style="color: #f44336">高</span></td>
            </tr>
                    
            <tr>
                <td>批量赋值 (多次!! vs ?.apply)</td>
                <td>241</td>
                <td>15-40%</td>
                <td>20-30 bytes/!!</td>
                <td><span style="color: #f44336">高</span></td>
            </tr>
            
            <tr>
                <td>Inline 函数</td>
                <td>193</td>
                <td>5-30%</td>
                <td>20-100 bytes/调用</td>
                <td><span style="color: #f44336">高</span></td>
            </tr>

            <tr>
                <td>条件分支 (if-else vs when)</td>
                <td>1445</td>
                <td>10-40%</td>
                <td>10-30 bytes/分支</td>
                <td><span style="color: #ff9800">中</span></td>
            </tr>
        
            <tr>
                <td>Null 安全检查 (!! vs ?.)</td>
                <td>409</td>
                <td>5-15%</td>
                <td>15-30 bytes/检查</td>
                <td><span style="color: #ff9800">中</span></td>
            </tr>
        
            <tr>
                <td>连续属性访问</td>
                <td>229</td>
                <td>3-10%</td>
                <td>10-20 bytes/链</td>
                <td><span style="color: #4caf50">低</span></td>
            </tr>
        
        </table>

        <h2>优化实施建议</h2>
        <div class="opportunity">
            <h3>高优先级 (高优实施)</h3>
            <ul>
                <li><strong>字符串拼接优化</strong>: 在循环中使用 StringBuilder，性能提升 20-80%（取决于字符串长度和循环次数）</li>
                <li><strong>批量赋值优化</strong>: 使用 ?.apply 替代多次 !!，性能提升 15-40%，完全避免 NPE</li>
                <li><strong>Inline 函数</strong>: 标记高频小函数为 inline，性能提升 5-30%（适用于小函数和高频调用）</li>
            </ul>
            
            <h3>中优先级 (计划实施)</h3>
            <ul>
                <li><strong>When 替代 If-Else</strong>: 4个以上分支使用 when，性能提升 10-40%</li>
                <li><strong>安全调用链</strong>: 使用 ?. 替代 !!，性能提升 5-15%，提升代码稳定性</li>
            </ul>
            
            <h3>低优先级 (持续改进)</h3>
            <ul>
                <li><strong>连续属性访问</strong>: 使用临时变量或 ?.let 优化深层属性访问，性能提升 3-10%</li>
            </ul>
        </div>
        
        <h2>详细优化建议</h2>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/feed-common/src/main/java/com/hisense/components/feed/common/utils/FeedShareUtil.kt:50</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (11 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 198 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/feed-common/src/main/java/com/hisense/components/feed/common/view/RecycleLrcView.kt:122</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/feed-common/src/main/java/com/hisense/components/feed/common/view/RecycleLrcView.kt:188</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/feed-common/src/main/java/com/hisense/components/feed/common/miniplayer/data/BackgroundDataManager.kt:33</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (9 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 162 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/verification/src/main/java/com/hisense/component/feature/verification/VerificationUtil.kt:35</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (5 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 90 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/verification/src/main/java/com/hisense/component/feature/verification/VerificationUtil.kt:99</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/verification/src/main/java/com/hisense/component/feature/verification/VerificationUtil.kt:123</div>
                <h4>Inline 函数</h4>
                <div class="code">函数 doSlideVerification 可以内联</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-30%</span>
                    <span class="metric">字节码减少: 916 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/utils/ActivityUserTagHelper.kt:30</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">if (it.width!! <= 0 || it.height!! <= 0) {</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/utils/ActivityUserTagHelper.kt:59</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">if (it.width!! <= 0 || it.height!! <= 0) {</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserMedalListView.kt:206</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (8 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 144 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserMedalListView.kt:276</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserMedalListView.kt:386</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (5 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 90 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserMedalListViewMax.kt:213</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (7 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 126 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserMedalListViewMax.kt:275</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserMedalListViewMax.kt:385</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (5 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 90 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserTagScrollView.kt:132</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserTagScrollView.kt:151</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (7 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 126 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserTagScrollView.kt:356</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (6 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 108 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/user-common/src/main/java/com/hisense/components/user/common/view/UserTagScrollView.kt:435</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (7 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 126 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/account/src/main/java/com/kuaishou/athena/share/util/ShareBitmapExtension.kt:103</div>
                <h4>Inline 函数</h4>
                <div class="code">函数 getBitmapFromUrl 可以内联</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-30%</span>
                    <span class="metric">字节码减少: 916 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/features/account/src/main/java/com/kuaishou/athena/share/util/ShareBitmapExtension.kt:119</div>
                <h4>Inline 函数</h4>
                <div class="code">函数 fetchImageToLocal 可以内联</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-30%</span>
                    <span class="metric">字节码减少: 916 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/uploader/src/main/java/com/hisense/component/feature/uploader/HSUpLoaderManager.kt:48</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/ui/record/ktv/score/widget/PitchIndicator.kt:46</div>
                <h4>批量赋值 (多次!! vs ?.apply)</h4>
                <div class="code">3 个连续的 !! 使用</div>
                <div class="metrics">
                    <span class="metric">性能提升: 15-40%</span>
                    <span class="metric">字节码减少: 60 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/ui/record/ktv/score/widget/KtvPitchTextureView.kt:134</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/ui/record/ktv/score/widget/KtvPitchTextureView.kt:314</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (5 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 90 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/ui/record/ktv/score/widget/KtvPitchTextureView.kt:391</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/ui/record/ktv/score/widget/KtvPitchTextureView.kt:415</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (5 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 90 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/ui/record/ktv/score/widget/KtvPitchTextureView.kt:563</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (6 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 108 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/ui/record/ktv/score/widget/PitchLine.kt:64</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (5 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 90 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/ui/record/ktv/score/widget/PitchLine.kt:120</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/feature/record/util/security/DrmResetHelper.kt:19</div>
                <h4>Inline 函数</h4>
                <div class="code">函数 resetDrmLicenses 可以内联</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-30%</span>
                    <span class="metric">字节码减少: 916 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/feature/record/bluetooth/adapter/BluetoothSingSmoothHelper.kt:141</div>
                <h4>批量赋值 (多次!! vs ?.apply)</h4>
                <div class="code">2 个连续的 !! 使用</div>
                <div class="metrics">
                    <span class="metric">性能提升: 15-40%</span>
                    <span class="metric">字节码减少: 40 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/feature/record/bluetooth/adapter/BluetoothSingSmoothHelper.kt:91</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (6 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 108 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/hisense/component/feature/record/service/RecordOffsetHelper.kt:37</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (15 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 270 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/kwai/sun/hisense/ui/record/ktv/callback/RecordDumpHelper.kt:64</div>
                <h4>批量赋值 (多次!! vs ?.apply)</h4>
                <div class="code">2 个连续的 !! 使用</div>
                <div class="metrics">
                    <span class="metric">性能提升: 15-40%</span>
                    <span class="metric">字节码减少: 40 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/record/src/main/java/com/kwai/sun/hisense/ui/record/ktv/callback/RecordDumpHelper.kt:70</div>
                <h4>批量赋值 (多次!! vs ?.apply)</h4>
                <div class="code">2 个连续的 !! 使用</div>
                <div class="metrics">
                    <span class="metric">性能提升: 15-40%</span>
                    <span class="metric">字节码减少: 40 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/beauty/BeautyDataManager.kt:83</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/personalMaterial/StickerDatabaseRepository.kt:84</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">mystickerRecord.stickerData!!.downloadStatus = if (mystickerRecord.downloaded) BaseEntity.DOWNLOAD_DONE else BaseEntity.DOWNLOAD_UNSELCTED</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/personalMaterial/StickerDatabaseRepository.kt:84</div>
                <h4>批量赋值 (多次!! vs ?.apply)</h4>
                <div class="code">6 个连续的 !! 使用</div>
                <div class="metrics">
                    <span class="metric">性能提升: 15-40%</span>
                    <span class="metric">字节码减少: 120 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/personalMaterial/StickerDatabaseRepository.kt:28</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (6 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 108 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/model/StickerResEntity.kt:38</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">displayType + ",size->" + if (list == null) 0 else list!!.size</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/model/StickerResEntity.kt:173</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">return if (list != null) list!!.size else 0</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/model/StickerResEntity.kt:58</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/model/StickerEntity.kt:221</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/db/AppDatabase.kt:59</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (5 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 90 bytes</span>
                </div>
            </div>
        
            <div class="opportunity medium">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/report/MaterialReportHelper.kt:32</div>
                <h4>条件分支 (if-else vs when)</h4>
                <div class="code">if-else 链 (4 个分支)</div>
                <div class="metrics">
                    <span class="metric">性能提升: 10-40%</span>
                    <span class="metric">字节码减少: 72 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/base/recycler/RecyclerViewEx.kt:94</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">if (cacheHeaderViews != null && cacheHeaderViews!!.size > 0) {</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/base/recycler/RecyclerViewEx.kt:99</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">if (cacheFooterViews != null && cacheFooterViews!!.size > 0) {</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/base/recycler/RecyclerViewEx.kt:160</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">return if (cacheHeaderViews == null) 0 else cacheHeaderViews!!.size</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        
            <div class="opportunity high">
                <div class="file-path">/Users/liuqianzhen/Mine/hisense-android/hs-components/components/sticker/src/main/java/com/incubation/android/sticker/base/recycler/RecyclerViewEx.kt:164</div>
                <h4>Null 安全检查 (!! vs ?.)</h4>
                <div class="code">return if (cacheFooterViews == null) 0 else cacheFooterViews!!.size</div>
                <div class="metrics">
                    <span class="metric">性能提升: 5-15%</span>
                    <span class="metric">字节码减少: 71 bytes</span>
                </div>
            </div>
        <p style="text-align: center; color: #666;">... 还有 2472 个优化机会未显示</p>
    
    </div>
</body>
</html>
    